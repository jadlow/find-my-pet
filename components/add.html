[[extend 'layout.html']]

<div class="section" id="vue-target-newpost">
    <h1 class="title">Create a Lost/Found Pet Post</h1>
    <div v-if="!post_success">
        <div class="field">
            <label class="label">Name (required, if you do not know the name especially in the case you found the pet, please input "Don't Know")</label>
            <div class="control">
                <input type="text" class="input is-info" v-model="new_pet_name" required>
            </div>
            <div class="has-text-danger" v-if="err_name">
                Error {{err_name_i}}
            </div>            
        </div>
        <div class="field">
            <label class="label">Pet type (required)</label>
            <div class="control">
                <div class="select is-info" required>
                    <select v-model="new_pet_type">
                        <option>Dog</option>
                        <option>Cat</option>
                        <option>Bird</option>
                        <option>Rodent</option>
                        <option>Reptile</option>
                        <option>Rabbit</option>
                        <option>Pet Livestock</option>
                        <option>Aquatic</option>
                        <option>Other</option>
                    </select>
                </div>
            </div>
            <div class="has-text-danger" v-if="err_type">
                Error {{err_type_i}}
            </div>
        </div>
        <div class="field">
            <label class="label">Pet Lost/Found (required)</label>
            <div class="control is-size-5">
                <input type="radio" name="lorf" v-model="new_pet_lost" value="true"> Lost&ensp;
                <input type="radio" name="lorf" v-model="new_pet_lost" value="false"> Found
            </div>
            <div class="has-text-danger" v-if="err_lost">
                Error {{err_lost_i}}
            </div>
            <div class="has-text-grey">
                <span v-if="new_pet_lost == 'true'">
                    If your pet has been lost, please search on this site to see whether or not someone else has found them.
                </span>
                <span v-if="new_pet_lost == 'false'">
                    If you have found a lost pet, please search on this site to see whether or not someone has posted they had lost the pet.
                </span>
            </div>
        </div>
        <div class="field">
            <label class="label">Lost/Found Date (required)</label>
            <div class="control">
                <input type="number" class="input is-info" v-model="new_pet_lostfound_date_m" min="1" max="12" placeholder="MM" style="width: 80px;" required>&ensp;/
                <input type="number" class="input is-info" v-model="new_pet_lostfound_date_d" min="1" max="31" placeholder="DD" style="width: 80px;" required>&ensp;/
                <input type="number" class="input is-info" v-model="new_pet_lostfound_date_y" min="2012" max="2022" placeholder="YYYY" style="width: 120px;" required>
            </div>
            <div class="has-text-danger" v-if="err_date">
                Error {{err_date_i}}
            </div>
        </div>
        <div class="field">
            <label class="label">Description (required)</label>
            <div class="control">
                <textarea class="textarea is-info" v-model="new_pet_description" >
                </textarea>
            </div>
            <div class="has-text-danger" v-if="err_description">
                Error {{err_description_i}}
            </div>
        </div>
        <div class="field">
            <label class="label">Pet Image (required)</label>
            <a class="button" href="[[=URL('add_image', signer=url_signer)]]">
                <span class="icon"><i class="fa fa-fw fa-plus"></i></span>
            </a>
        </div>
        <div class="field">
            <label class="label">Lost/Found Location Coordinates (required)</label>
            <div class="control">
                <input type="text" class="input is-info" v-model="new_pet_lat_lng" required>
            </div>
            <div class="has-text-danger" v-if="err_coord">
                Error {{err_coord_i}}
            </div>
        </div>
        <button class="button is-link" @click="add_post()">Add Post</button>
    </div>
    <div v-if="post_success" class="notification is-success is-size-5">
        Success! The posting for {{new_pet_name}} lost on {{new_pet_lostfound_date_m}}/{{new_pet_lostfound_date_d}}/{{new_pet_lostfound_date_y}} has been accepted.
    </div>
</div>
[[block page_scripts]]
<script src="js/add_pet.js"></script>
<script>
   let add_post_url = "[[=XML(add_post_url)]]";
</script>
[[end]]